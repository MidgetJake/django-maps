{% load i18n %}

<div id="{{ widget.attrs.id }}-map" style="display: block; width: 100%; height: 300px;" class="init-widget" data-value="{{ widget.value|default_if_none:"POINT(0 0)" }}" data-center="{{ map_center|safe }}"></div>

<input style="display:none" type="text"
       name="{{ widget.name }}"
       value="{{ widget.value|default_if_none:"POINT(0 0)" }}"
       class="vTextField"
       id="{{ widget.attrs.id }}"
       {% if widget.attrs.size %}size="{{ widget.attrs.size }}"{% endif %}
       {% if widget.attrs.maxlength %}maxlength="{{ widget.attrs.maxlength }}"{% endif %}/>


<script>
    mapboxAdmin('{{ widget.attrs.id }}-map','{{widget.value}}')
</script>
